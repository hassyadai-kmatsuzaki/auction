# メダカライブオークションシステム - 画面設計

## 画面一覧

### 共通画面

#### 1. ログイン画面
- **パス**: `/login`
- **権限**: ゲスト
- **機能**:
  - メールアドレス・パスワードでログイン
  - パスワードリセットリンク

#### 2. ユーザー登録申請画面
- **パス**: `/register`
- **権限**: ゲスト
- **機能**:
  - 参加者として新規登録申請
  - 基本情報入力
  - **承認待ちステータス**（管理者承認後にログイン可能）

---

## 参加者向け画面

### 3. お知らせ一覧画面
- **パス**: `/`
- **権限**: 参加者
- **表示内容**:
  - お知らせ一覧
  - 開催中のオークション情報
  - 次回開催予定
- **機能**:
  - お知らせの閲覧
  - 未読・既読管理
- **参考**: [メダカライブオークション](https://v0-medaka-auction-ui.vercel.app/)

### 4. オークション会場画面（メイン画面）
- **パス**: `/auction/{auction_id}/live`
- **権限**: 参加者（オークション開催中のみアクセス可能）
- **表示内容**:
  - **6レーン同時表示**
  - 各レーンごと:
    - サムネイル（動画プレビュー）
    - 横見画像/上見画像切り替え
    - 生体番号
    - 品種名
    - 審査情報
    - 個体情報
    - 現在単価（1匹あたり）
    - 匹数
    - 落札想定金額
    - ON/OFFボタン（入札参加切り替え）
    - 秒数カウンター or 複数入札者表示
  - **リアルタイム更新**:
    - 複数人入札時は3秒ごとに価格上昇
    - 価格変動のアニメーション
    - 次の生体へ自動切り替え
- **機能**:
  - 入札ON/OFF切り替え
  - 動画・画像の拡大表示
  - 詳細情報モーダル表示

### 5. 落札管理画面
- **パス**: `/my/won-items`
- **権限**: 参加者
- **表示内容**:
  - 上部:
    - 合計落札金額
    - 支払い状況
  - 落札商品リスト:
    - 生体番号
    - サムネイル
    - 品種名
    - 審査情報
    - 個体情報
    - 匹数
    - 落札金額
    - ステータス（請求書送付済/入金確認済/発送済など）
    - 配送先情報
- **機能**:
  - 落札商品の確認
  - 請求書ダウンロード
  - 配送先編集（入金前まで）

---

## 管理者向け画面

### 6. 管理ダッシュボード
- **パス**: `/admin/dashboard`
- **権限**: 管理者
- **表示内容**:
  - 統計情報
    - 今月の開催回数
    - 総落札数
    - 総売上金額
    - 登録参加者数
  - 最近のアクティビティ
  - 承認待ちユーザー数
  - 開催予定オークション

### 7. お知らせ管理画面
- **パス**: `/admin/announcements`
- **権限**: 管理者
- **表示内容**:
  - お知らせ一覧
  - 新規作成ボタン
- **機能**:
  - お知らせの作成・編集・削除
  - 公開/非公開切り替え
  - 公開期間設定

### 8. お知らせ作成・編集画面
- **パス**: `/admin/announcements/create`
- **パス**: `/admin/announcements/{id}/edit`
- **権限**: 管理者
- **表示内容**:
  - タイトル入力
  - 本文入力（リッチテキストエディタ）
  - 公開期間設定
  - 重要度設定
- **機能**:
  - お知らせの作成・更新
  - プレビュー表示

### 9. オークション管理画面
- **パス**: `/admin/auctions`
- **権限**: 管理者
- **表示内容**:
  - オークション一覧
    - 開催日
    - ステータス（準備中/開催中/終了）
    - 生体数
    - 落札数
    - 売上金額
  - 新規作成ボタン
- **機能**:
  - オークション一覧表示
  - フィルタリング（ステータス、日付）
  - **開催済みオークションは編集/削除不可**

### 10. オークション作成・編集画面
- **パス**: `/admin/auctions/create`
- **パス**: `/admin/auctions/{id}/edit`（開催前のみ）
- **権限**: 管理者
- **表示内容**:
  - オークション基本情報
    - タイトル
    - 開催日
    - 開始時刻
    - 説明
  - ステータス管理
- **機能**:
  - オークション情報の作成・更新
  - **開催済み（status: finished）は編集不可**
- **制約**:
  - ステータスが「終了」の場合は編集・削除不可

### 11. 生体管理画面（商品管理）
- **パス**: `/admin/auctions/{auction_id}/items`
- **権限**: 管理者
- **表示内容**:
  - 上部:
    - オークション情報
    - 全体統計（総生体数、登録済み数）
  - 生体リスト（出品順）:
    - 生体番号
    - サムネイル
    - 品種名
    - 審査情報
    - 個体情報
    - 匹数
    - 開始価格
    - プレミアムフラグ
    - レーン割り当て
    - ステータス
  - 新規登録ボタン
  - 一括アップロードボタン
- **機能**:
  - 生体の登録・編集・削除
  - 出品順序のドラッグ&ドロップ変更
  - レーン自動割り当て
  - CSVインポート
  - プレミアムプラン設定

### 12. 生体登録・編集画面
- **パス**: `/admin/auctions/{auction_id}/items/create`
- **パス**: `/admin/auctions/{auction_id}/items/{id}/edit`
- **権限**: 管理者
- **表示内容**:
  - 生体情報入力フォーム:
    - 品種名
    - 匹数
    - 個体情報
    - 審査情報
    - 備考
    - 開始価格
    - 落札想定金額
  - プレミアムプラン選択
  - 動画アップロード（上見/横見）
  - 写真アップロード（プレミアムのみ最大3枚）
  - サムネイル選択
- **機能**:
  - 生体情報の入力
  - 動画・画像のアップロード
  - サムネイル自動生成・選択
  - 一時保存

### 13. ライブオークション管理画面
- **パス**: `/admin/auctions/{auction_id}/live`
- **権限**: 管理者
- **表示内容**:
  - 6レーンの進行状況（大画面表示）
  - 各レーン:
    - 現在の生体情報
    - 現在価格
    - 入札者数
    - カウントダウン
    - 手動進行ボタン
  - 全体コントロール:
    - オークション開始ボタン
    - 全レーン一時停止ボタン
    - 緊急停止ボタン
- **機能**:
  - リアルタイム監視
  - レーン進行制御（自動/手動）
  - トラブル対応

### 14. 落札者管理画面
- **パス**: `/admin/auctions/{auction_id}/won-items`
- **権限**: 管理者
- **表示内容**:
  - 上部:
    - オークション情報
    - 総売上金額
    - 入金確認済み金額
  - 落札商品一覧:
    - 生体番号
    - サムネイル
    - 品種名
    - 落札者名
    - 落札金額
    - 支払いステータス
    - 発送ステータス
    - 配送先
  - フィルタ（支払いステータス、発送ステータス）
- **機能**:
  - 落札情報の確認
  - 入金確認チェック
  - 発送完了チェック
  - 請求書再送信
  - 配送伝票印刷

### 15. ユーザー管理画面
- **パス**: `/admin/users`
- **権限**: 管理者
- **表示内容**:
  - ユーザー一覧
    - 名前
    - メールアドレス
    - ユーザー種別（管理者/参加者）
    - ステータス（承認待ち/有効/停止）
    - 登録日
  - タブ:
    - 承認待ち
    - 有効ユーザー
    - 停止ユーザー
- **機能**:
  - ユーザー検索
  - **参加者の承認・却下**
  - ユーザー詳細表示・編集
  - ユーザー停止・復活
  - 管理者への昇格

### 16. ユーザー詳細・編集画面
- **パス**: `/admin/users/{id}`
- **権限**: 管理者
- **表示内容**:
  - ユーザー基本情報
  - 連絡先情報
  - 配送先情報
  - 落札履歴
  - ステータス管理
- **機能**:
  - ユーザー情報編集
  - 承認・却下
  - アカウント停止・復活

### 17. 設定画面
- **パス**: `/admin/settings`
- **権限**: 管理者
- **表示内容**:
  - システム設定:
    - サイト名
    - 連絡先メールアドレス
    - 価格上昇率（デフォルト10%）
    - 価格上昇の最低金額（デフォルト50円）
    - カウントダウン秒数（デフォルト3秒）
    - プレミアムプラン料金
  - 通知設定:
    - メール送信設定
    - LINE連携設定
  - 支払い設定:
    - 振込先口座情報
    - 手数料設定
- **機能**:
  - 各種設定の編集
  - 設定のバックアップ・復元

---

## 画面遷移図

```
[参加者画面]
[お知らせ一覧（ホーム）] → [オークション会場（6レーン）]
                              [落札管理]

[管理者画面]
[ダッシュボード] → [お知らせ管理] → [お知らせ作成・編集]
                → [オークション管理] → [オークション作成・編集]
                                      → [生体管理] → [生体登録・編集]
                                      → [ライブオークション管理]
                                      → [落札者管理]
                → [ユーザー管理] → [ユーザー詳細・編集]
                → [設定]
```

---

## 画面数まとめ

### 共通画面: 2画面
1. ログイン
2. ユーザー登録申請

### 参加者向け画面: 3画面
1. お知らせ一覧（ホーム）
2. オークション会場（6レーン）
3. 落札管理

### 管理者向け画面: 12画面
1. 管理ダッシュボード
2. お知らせ管理
3. お知らせ作成・編集
4. オークション管理
5. オークション作成・編集
6. 生体管理（商品管理）
7. 生体登録・編集
8. ライブオークション管理
9. 落札者管理
10. ユーザー管理
11. ユーザー詳細・編集
12. 設定

**合計: 17画面**

---

## レスポンシブデザイン要件

### オークション会場画面
- **PC（1920px以上）**: 6レーン横並び表示
- **タブレット（768px-1919px）**: 3レーン×2段表示
- **スマートフォン（767px以下）**: 2レーン×3段 または 1レーン縦スクロール

### その他の画面
- 全デバイスでレスポンシブ対応
- スマートフォンでもオークション参加可能

---

## 削除された画面（前バージョンから）

以下の画面は削除されました：

- ❌ 商品一覧画面（事前閲覧不要）
- ❌ 商品詳細画面（事前閲覧不要）
- ❌ お気に入り一覧画面
- ❌ 出品一覧・出品登録画面（出品者機能削除）
- ❌ 保証金管理画面
- ❌ 受取方法詳細選択画面（配送のみに簡素化）
